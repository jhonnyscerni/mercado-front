<div class="flex flex-col flex-auto min-w-0 ">
  <div class="bg-card">
    <div class="flex flex-col w-full max-w-screen-xl mx-auto px-4 sm:px-8">
      <div class="flex flex-col sm:flex-row flex-auto sm:items-center min-w-0 my-4 sm:my-8">
        <div class="flex-1 min-w-0">
          <!-- Breadcrumbs -->
          <div>
            <div class="hidden sm:flex flex-wrap items-center font-medium">
              <div>
                <a class="whitespace-nowrap text-primary-500">Inicio</a>
              </div>
              <div class="flex items-center ml-1 whitespace-nowrap">
                <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-right'"></mat-icon>
                <a class="ml-1 text-primary-500">Detalhes de Proposta de Lance do Leilão</a>
              </div>
            </div>
            <div class="flex sm:hidden">
              <a class="inline-flex items-center -ml-1.5 text-secondary font-medium" [routerLink]="'./..'">
                <mat-icon class="icon-size-5 text-secondary" [svgIcon]="'heroicons_solid:chevron-left'"></mat-icon>
                <span class="ml-1">voltar</span>
              </a>
            </div>
          </div>
          <!-- Title -->
          <div class="mt-2">
            <h2 class="text-3xl md:text-4xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
              Detalhes de Proposta de Lance do Leilão
            </h2>
          </div>
        </div>
        <!-- Actions -->
        <div class="flex shrink-0 items-center mt-2 sm:mt-0">
          <!-- Search -->
          <!-- <mat-form-field class="fuse-mat-dense fuse-mat-no-subscript fuse-mat-rounded min-w-64">
                  <mat-icon
                      class="icon-size-5"
                      matPrefix
                      [svgIcon]="'heroicons_solid:search'"></mat-icon>
                  <input
                      matInput
                      [formControl]=""
                      [autocomplete]="'off'"
                      [placeholder]="'Search products'">
              </mat-form-field> -->
          <!-- Add product button -->

          <button mat-flat-button [color]="'primary'" (click)="listaEditais()">
            <mat-icon [svgIcon]="'heroicons_outline:plus'"></mat-icon>
            <span class="ml-2 mr-1">Lista de Editais</span>
          </button>
        </div>
      </div>
    </div>
    
    <div class="body table-responsive flex flex-col w-full max-w-screen-xl mx-auto px-4 sm:px-8">
      <div class="dataInfoBlock">
        <div class="dataInnerBlock1">
          <p><b>Número:</b>{{edital?.numero}}</p>
          <p><b>Número do Processo Interno:</b>011/2023</p>
          <p><b>Modalidade:</b>Pregão Eletrônico</p>
          <p><b>Situação:</b>Encerrado para Operação / Publicado</p>
          <p><b>Legislação Aplicada:</b> Decreto nº 10.024, de 20 de setembro de 2019 - Novo Pregão Eletrônico</p>
    
          <hr>
          <p><b>Empresa CNPJ:</b>{{edital?.empresa?.cnpj}}</p>
          <p><b>Empresa de Compra:</b>{{edital?.empresa?.razaoSocial}}</p>
          <p><b>Municipio/UF:</b>{{edital?.endereco?.cidade}}/{{edital?.endereco?.estado}}</p>
          <p><b>Objeto/Produto:</b>{{edital?.titulo}}</p>
          <hr>
          <p><b>Tratamento Diferenciado:</b>Ampla Competição</p>
          <p><b>Casas Decimais:</b>Duas Casas</p>
          <p><b>Aplicar Cotas:</b>Não</p>
          <p><b>Benefício local/regional:</b>Não</p>
          <p><b>Modo de Disputa:</b>Aberto</p>
          <p><b>Valor do Intervalo de Lances (R$):</b>0,01</p>
          <div class="datasProcessoBlock">
            <h3 class="h3TitleBlue divisor">Datas do edital</h3>
            <div class="labels">
              <p><b>Data de Publicação:</b>16/02/2023 17:51</p>
              <p><b>Início das Propostas:</b>16/02/2023 18:00</p>
              <p><b>Limite para Impugnação:</b>28/02/2023 14:00</p>
              <p><b>Limite para Esclarecimentos:</b>28/02/2023 14:00</p>
              <p><b>Limite p/ Recebimento de Propostas:</b>03/03/2023 14:00</p>
              <p><b>Abertura das Propostas:</b>03/03/2023 14:01</p>
            </div>
            <div class="iconeEdital">
              <p><b>Edital</b></p>
              <a class="downloadEdital"
                href="/6/Pregoes/Download/Arquivo/?ttCD_CHAVE=251&amp;slCD_ORIGEM=223242&amp;ttVoltar=0&amp;iframe=true"
                title="Baixar Edital" target="_blank"><img src="/imgMaster/icoDownloadEdital.png" alt="">Baixar Edital</a>
              <p>
                Download já realizado
              </p>
            </div>
          </div>
        </div>
        <div class="dataInnerBlock2">
          <p><b>Data de Publicação:</b>16/02/2023 17:51</p>
          <p><b>Início das Propostas:</b>16/02/2023 18:00</p>
          <p><b>Limite para Impugnação:</b>28/02/2023 14:00</p>
          <p><b>Limite para Esclarecimento:</b>28/02/2023 14:00</p>
          <p><b>Limite p/ Recebimento de Propostas:</b>03/03/2023 14:00</p>
          <p><b>Abertura das Propostas:</b>03/03/2023 14:01</p>
          <hr>
          <p><b>Edital:</b><a href="/6/Pregoes/Download/?ttCD_CHAVE=223242" title="Download do Edital">Download</a> (Já
            Realizado)</p>
          <p><b>Órgão:</b>Prefeitura Municipal de Igarapé-Açu</p>
          <p><b>Unidade de Compra:</b>FUNDO MUNICIPAL DE EDUCAÇÃO / SECRETARIA MUNICIPAL DE EDUCAÇÃO</p>
          <p><b>Municipio/UF:</b>Igarapé-Açu/PA</p>
          <p><b>Objeto:</b></p>
        </div>
      </div>
    
    </div>
    </div>
    
    <div class="bg-card">
      <div class="flex flex-col w-full max-w-screen-xl mx-auto">
        <div class=" card-body mt-4">
          <!-- Table -->
          <div class="body table-responsive flex flex-col w-full max-w-screen-xl mx-auto">
            <h3 class="text-3xl md:text-3xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
              Lista dos Produtos
            </h3>
      <table class="table text-center" *ngIf="edital?.itens; else
            loadingError">
          <thead>
              <tr>
                  <th>ID</th>
                  <th>NOME</th>
                  <th>CATEGORIA</th>
                  <th>MARCA</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor="let item of edital?.itens |
                    paginate: { itemsPerPage: size,
                    currentPage: page,
                    totalItems: totalElements }">
                  <td><span class="text-muted"> {{
                    item?.produto?.id }}</span></td>
                  <td><span class="text-muted"> {{
                    item?.produto?.nome }}</span></td>
                  <td><span class="text-muted"> {{
                    item?.produto?.categoriaProduto?.nomeDesc }}</span></td>
                  <td><span class="text-muted"> {{
                    item?.produto?.marcaProduto?.nomeDesc }}</span></td>
              </tr>
          </tbody>
      </table>
      <ng-template #loadingError>
          <div *ngIf="error$ | async; else loading">
              Erro ao carregar produtos. Tente novamente mais
              tarde.
          </div>
          <ng-template #loading>
              <div class="card-body">
                  <div class="row py-3 align-items-center">
                      <div class="col-sm-9">
                          <h4 class="mb-0">Carregando
                              produtos...</h4>
                      </div>
                  </div>
              </div>
          </ng-template>
      </ng-template>
  </div>
    </div>
  </div>
</div>
    <div class="bg-card">
      <div class="flex flex-col w-full max-w-screen-xl mx-auto">
        <div class=" card-body mt-4">
          <!-- Table -->
          <div class="body table-responsive flex flex-col w-full max-w-screen-xl mx-auto">
            <h3 class="text-3xl md:text-3xl font-extrabold tracking-tight leading-7 sm:leading-10 truncate">
              Lista dos Lances
            </h3>
            <table class="table text-center" *ngIf="sales; else
                            loadingError">
              <thead>
                <tr>
                  <th>NUMERO</th>
                  <th>VALOR DO LANCE</th>
                  <th>USUARIO</th>
                  <th></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let sale of sales |
                                    paginate: { itemsPerPage: size,
                                    currentPage: page,
                                    totalItems: totalElements }">
                  <td><span class="text-muted"> {{
                    sale?.id }}</span></td>
                  <td><span class="text-muted"> {{
                    sale?.valorLance }}</span></td>
                  <td><span class="text-muted"> {{
                    sale?.usuario?.username }}</span></td>
                  <td class="table-actions" *ngIf="authorities === 'ROLE_ADMIN' || authorities === 'ROLE_BUYER' ">
                    <a class="table-action" tooltip="Editar
                                              produto" placement="top" href="javascript:void(0)"
                      (click)="onEdit(sale.id)">
                      <mat-icon matSuffix>edit</mat-icon>
                    </a>
                    <a class="table-action
                                              table-action-delete" tooltip="Deletar consulta" placement="top"
                      href="javascript:void(0)" (click)="onDelete(sale)">
                      <mat-icon matSuffix>delete</mat-icon>
                    </a>
                    <a class="table-action" tooltip="Detalhes consulta" placement="top" href="javascript:void(0)"
                      (click)="onSaleList(sale.id)">
                      <mat-icon svgIcon="details"></mat-icon>
                    </a>
                  </td>
                </tr>
              </tbody>
            </table>
            <ng-template #loadingError>
              <div *ngIf="error$ | async; else loading">
                Erro ao carregar Leiloes. Tente novamente mais
                tarde.
              </div>
              <ng-template #loading>
                <div class="card-body">
                  <div class="row py-3 align-items-center">
                    <div class="col-sm-9">
                      <h4 class="mb-0">Carregando
                        Leiloes...</h4>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ng-template>
          </div>
          <div class="py-4 text-center ngx-pagination">
            <pagination-controls previousLabel="Anterior" nextLabel="Próximo" responsive="true"
              (pageChange)="handlePageChange($event)">
            </pagination-controls>
          </div>
        </div>
      </div>
    </div>
  </div>
